/*
 * partials/category
 */


 // Modules
 @import "modules/variables";
 @import "modules/mixins";
 @import "modules/fonts";


$columns: 3;


div.pagination{
  clear: both;
  margin: $gutter 0 0 0;
  text-align: center;
  height: 100px;
  line-height: 100px;
  width: 100%;
  & > span.page-numbers,
  & > a.page-numbers{
    font-size: 2rem;
    line-height: 3rem;
    display: inline-block;
    width: 30px;
    text-align: center;
    &:hover{
      text-decoration: none;
      color: rgba(122, 119, 120, 1.0);
    }
  }
  & > span.current{
    color: rgba(122, 119, 120, 1.0);
  }
}



main#category{
  margin: ($header-height + $navigation-height + 20) 0 $gutter 0;
  section{
    & > div.articles{
      overflow: hidden;
      height: auto;
      clear: both;

      & article:not(.simple){
        background: #eee;
        &:nth-of-type(1){ // top full width panel
          height: 500px;
          overflow: hidden;
          margin: 0 0 0 0;
          & a{
            width: 100%;
            height: 100%;
            display: table;
            &:hover{
              opacity: 0.9;
            }
          }
          & div{
            display: table-cell;
            width: 50%;
            vertical-align: middle;
            &:nth-of-type(2){
              width: 25%;
              padding: 0 20px 0 20px;
              background: rgba(0,0,0,1.0);
              color: rgba(255,255,255,1.0);
              & > h1{
                font-family: "Tungsten Rounded A", "Tungsten Rounded B";
                font-weight: 700;
                font-size: 8rem;
                line-height: 7rem;
                letter-spacing: 2px;
                text-transform: uppercase;
                margin: 0 0 $gutter 0;
              }
              & > h2{
                font-size: 1.5rem;
                line-height: 2rem;
                letter-spacing: 1px;

              }
              & > h6{
                margin: 0 0 $gutter 0;
              }
              & .chevron{
                border-radius: 50%;
                font-size: 3.6rem;
                vertical-align: middle;
                overflow: hidden;
                display: table-cell;
              }
            }
          }
        }
        &:nth-of-type(2){ // second row large right panel
          margin: $gutter 0 0 $gutter;
          float: right;
          width: ($content-width - $gutter) - (($content-width - ($gutter * ($columns - 1))) / $columns);
          height: 500px;
          border: solid rgba(122, 119, 120, 1.0) 1px;
          & a{
            width: 100%;
            height: 100%;
            display: table;
            &:hover{
              opacity: 0.9;
            }
          }
          & div{
            display: table-row;
            &:nth-of-type(1){
              height: 370px;
            }
            &:nth-of-type(2){
              background: rgba(255,255,255,1.0);
              .rubric{
                margin: 10px 0 0 20px;
              }
              & > h1{
                font-family: "Tungsten Rounded A", "Tungsten Rounded B";
                font-weight: 400;
                font-size: 3rem;
                line-height: 3.5rem;
                letter-spacing: 1px;
                margin: 0 0 5px 20px;
              }
              & > h6{
                margin: 0 20px 0 20px;
              }
            }
          }
        }
        &:nth-of-type(3),
        &:nth-of-type(4),
        &:nth-of-type(5),
        &:nth-of-type(6),
        &:nth-of-type(7),
        &:nth-of-type(8),
        &:nth-of-type(9){ // last two rows of smaller panel and small panel from second row
          float: left;
          height: 500px;
          width: (($content-width - ($gutter * ($columns - 1))) / $columns);
          margin: $gutter 0 0 0;
          & a{
            display: table;
            width: 100%;
            height: 100%;
            &:hover{
              color: inherit;
              opacity: 0.9;
            }
          }
          & div{
            display: table-row;
            &:nth-of-type(1){
              height: 370px;
            }
            &:nth-of-type(1){
              width: 100%;
            }
            &:nth-of-type(2){
              background: rgba(0,0,0,1.0);
              color: rgba(255,255,255,1.0);
              .rubric{
                margin: 10px 20px 0 20px;
              }
              & > h1{
                font-family: "Tungsten Rounded A", "Tungsten Rounded B";
                font-weight: 400;
                font-size: 3rem;
                line-height: 3.5rem;
                letter-spacing: 1px;
                margin: 0 20px 5px 20px;
              }
              & > h6{
                margin: 0 20px 0 20px;
              }
            }
          }

        }
        &:nth-of-type(4),
        &:nth-of-type(5),
        &:nth-of-type(6),
        &:nth-of-type(7),
        &:nth-of-type(8){
          margin: $gutter $gutter 0 0;
        }
        &:nth-of-type(6),
        &:nth-of-type(9){ // last panel
          margin: $gutter 0 0 0;
        }
      }
      & article.simple{
        width: (($content-width - $gutter) / 2);
        height: 200px;
        float: left;
        overflow: hidden;
        border-top: solid rgba(122, 119, 120, 1.0) 1px;
        padding: $gutter 0 0 0;
        margin: $gutter $gutter 0 0;
        &:nth-of-type(1),
        &:nth-of-type(2){
          border-top: none;
          padding: 0 0 0 0;
          margin: 0 $gutter 0 0;
        }
        & a{
          width: 100%;
          height: 100%;
        }

        &:nth-of-type(2n+2){
          margin-right: 0;
        }
        & div{
          &:nth-of-type(1){
            width: 50%;
            height: 100%;
            float: left;
          }
          &:nth-of-type(2){
            width: 50%;
            float: left;
            background: rgba(255,255,255,1.0);
            .rubric{
              margin: 10px 0 0 20px;
            }
            & > h5{
              margin: 0 20px 0 20px;
            }
            & > h6{
              margin: 0 20px 0 20px;
            }
          }
        }
      }
    }
  }
}





section.storyidea{
  margin: nth($wrapper-margins, 1) nth($wrapper-margins, 2) nth($wrapper-margins, 3) nth($wrapper-margins, 4);
}





@media only screen and (max-width: 1300px){

  $columns: 2;

  main#category{
    section{
      & > div.articles{
        & article:not(.simple){
          &:nth-of-type(2){ // second row large right panel
            width: 100%;
            margin: $gutter 0 0 0;
            float: none;
            clear: both;
          }
          &:nth-of-type(3),
          &:nth-of-type(4),
          &:nth-of-type(5),
          &:nth-of-type(6),
          &:nth-of-type(7),
          &:nth-of-type(8),
          &:nth-of-type(9){ // second row small left panel
            width: (($content-width - ($gutter * ($columns - 1))) / $columns);
            margin: $gutter $gutter 0 0;
          }
          &:nth-of-type(even){ // last panel
            margin: $gutter 0 0 0;
          }
        }
        & article.simple{
          width: (($content-width - $gutter) / 2);
          height: 200px;
          float: left;
          overflow: hidden;
          border-top: solid rgba(122, 119, 120, 1.0) 1px;
          padding: $gutter 0 0 0;
          margin: $gutter $gutter 0 0;
          &:nth-of-type(1),
          &:nth-of-type(2){
            border-top: none;
            padding: 0 0 0 0;
            margin: 0 $gutter 0 0;
          }
          & a{
            width: 100%;
            height: 100%;
          }

          &:nth-of-type(2n+2){
            margin-right: 0;
          }
          & div{
            &:nth-of-type(1){
              width: 50%;
              height: 100%;
              float: left;
            }
            &:nth-of-type(2){
              width: 50%;
              float: left;
              background: rgba(255,255,255,1.0);
              .rubric{
                margin: 10px 0 0 20px;
              }
              & > h5{
                margin: 0 20px 0 20px;
              }
              & > h6{
                margin: 0 20px 0 20px;
              }
            }
          }
        }
      }
    }
  }

}





@media only screen and (max-width: 1280px){

  $columns: 2;

  main#category{
    section{
      & > div.articles{
        & article.simple{
          width: (($content-width - $gutter) / 1);
          height: 200px;
          float: none;
          overflow: hidden;
          border-top: none;
          padding: 0 0 0 0;
          margin: 0 0 $gutter 0;
          &:nth-of-type(1),
          &:nth-of-type(2){
            margin: 0 0 $gutter 0;
          }
          & div{
            &:nth-of-type(1){
              width: 50%;
              height: 100%;
              float: left;
            }
            &:nth-of-type(2){
              width: 50%;
              float: left;
              background: rgba(255,255,255,1.0);
              .rubric{
                margin: 10px 0 0 20px;
              }
              & > h5{
                margin: 0 20px 0 20px;
              }
              & > h6{
                margin: 0 20px 0 20px;
              }
            }
          }
        }
      }
    }
  }

}





@media only screen and (max-width: 960px){

  $columns: 1;

  main#category{
    section{
      & > div.articles{
        & article:not(.simple){
          &:nth-of-type(3),
          &:nth-of-type(4),
          &:nth-of-type(5),
          &:nth-of-type(6),
          &:nth-of-type(7),
          &:nth-of-type(8),
          &:nth-of-type(9){ // second row small left panel
            width: (($content-width - ($gutter * ($columns - 1))) / $columns);
          }
        }
      }
    }
  }
}





@media only screen and (max-width: 700px){

  main#category{
    margin: (120 + $navigation-height) 0 $gutter 0;
    section{
      & > div.articles{
        & article:not(.simple){
          width: 90vw;
          &:nth-of-type(1){ // top full width panel
            width: 90vw;
          }
          &:nth-of-type(2),
          &:nth-of-type(3),
          &:nth-of-type(4),
          &:nth-of-type(5),
          &:nth-of-type(6),
          &:nth-of-type(7),
          &:nth-of-type(8),
          &:nth-of-type(9){
            width: 90vw;
          }
        }
        & article.simple{
          width: 90vw;
        }
      }
    }
  }

  section.storyidea{
    margin: 0 5vw 0 5vw;
  }

}





@media only screen and (max-width: 600px){

  main#category{
    section{
      & > div.articles{
        & article:not(.simple){
          height: auto;
          margin: 0 0 0 0;
          &:nth-of-type(1){ // top full width panel
            height: auto;
            & div{
              display: block;
              width: 100%;
              height: 300px;
              &:nth-of-type(2){
                width: 100%;
                height: auto;
                padding: 20px 20px 20px 20px;
                & h1{
                  font-size: 4rem;
                  line-height: 4.5rem;
                }
              }
            }
          }
          &:nth-of-type(2),
          &:nth-of-type(3),
          &:nth-of-type(4),
          &:nth-of-type(5),
          &:nth-of-type(6){
            height: auto;
            margin: ($gutter * 3) 0 0 0;
            & div{
              &:nth-of-type(1){
                height: 300px;
              }
              &:nth-of-type(2){
                height: auto;
                padding: 20px 20px 20px 20px;
                & h6{
                  margin: 0 20px 20px 20px;
                }
              }
            }
          }
        }
        & article.simple{
          height: auto;
          float: none;
          padding: 0 0 0 0;

          &:nth-of-type(1n+1){
            margin: 0 0 ($gutter * 10) 0;
          }
          & div{
            &:nth-of-type(1){
              width: 100%;
              height: 200px;
              float: none;
            }
            &:nth-of-type(2){
              width: 100%;
              float: none;
              .rubric{
                margin: 10px 0 0 0;
              }
              & > h5{
                margin: 0 0 0 0;
              }
              & > h6{
                margin: 0 0 0 0;
              }
            }
          }
        }
      }
    }
  }

}
